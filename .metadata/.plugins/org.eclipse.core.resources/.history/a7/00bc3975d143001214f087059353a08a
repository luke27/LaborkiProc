/*
 * android_main.cpp
 *
 *  Created on: 03-12-2012
 *      Author: Luke
 */

#include <jni.h>
#include <errno.h>

#include <android/log.h>
#include <android_native_app_glue.h>
#include "AndroidDevice.h"
#include "AssetManager.h"


struct android_app* _state;

using namespace PG;
AndroidDevice *device;

/**
 * Punkt wejœcia dla natywnej aplikacji Android
 * Korzysta z NativeActivity, wymaga systemy Android w wersji minimum 2.3
 * param state strutura z danymi przekazywanymi do aplikacji przez system
 */
void android_main(struct android_app* state)
{
	app_dummy();
	_state = state;

	Asset *a =  AssetManager::getInstance().getAssetFile("test.txt");
	AssetManager::getInstance().getAssetFile(a);

	device = new AndroidDevice(state);
	device->init();
	device->appLoop();
}



